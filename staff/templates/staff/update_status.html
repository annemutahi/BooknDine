{% extends "base.html" %}
{% block content %}
<div class="container mt-5">
    <h2 class="mb-4">Update Booking Status</h2>

    <form method="POST">
        {% csrf_token %}
        <div class="card p-4 shadow-sm">
            <p><strong>Guest:</strong> {{ booking.guest.name }}</p>
            <p><strong>Table:</strong> {{ booking.table.table_number }}</p>
            <p><strong>Current Status:</strong> {{ booking.status }}</p>
            <p><strong>Start Time:</strong> {{ booking.start_time }}</p>
            <p><strong>End Time:</strong> {{ booking.end_time }}</p>

            <div class="form-group mt-3">
                <label for="status">New Status:</label>
                <select name="status" id="status" class="form-control">
                    <option value="PENDING" {% if booking.status == 'PENDING' %}selected{% endif %}>Pending</option>
                    <option value="CONFIRMED" {% if booking.status == 'CONFIRMED' %}selected{% endif %}>Confirmed</option>
                    <option value="CANCELLED" {% if booking.status == 'CANCELLED' %}selected{% endif %}>Cancelled</option>
                    <option value="COMPLETED" {% if booking.status == 'COMPLETED' %}selected{% endif %}>Completed</option>
                </select>
            </div>

            <div class="form-group mt-4">
                <button type="submit" class="btn btn-primary">Update Status</button>
                <a href="{% url 'staff:dashboard' %}" class="btn btn-secondary ms-2">Cancel</a>
            </div>
        </div>
    </form>
</div>
{% endblock %}
